{"ast":null,"code":"var _jsxFileName = \"D:\\\\dreamerz1\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { getAuth, clearAuth } from '../utils/auth';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  const {\n    user,\n    token\n  } = getAuth();\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    async function fetchDashboard() {\n      try {\n        const res = await fetch('http://localhost:4000/api/dashboard', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await res.json();\n        if (!res.ok) throw new Error(data.message || 'Failed');\n        setMessage(data.message + ' (role: ' + data.yourRole + ')');\n      } catch (err) {\n        setMessage(err.message);\n      }\n    }\n    fetchDashboard();\n  }, [token]);\n  function logout() {\n    clearAuth();\n    navigate('/');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.name, \" (role: \", user === null || user === void 0 ? void 0 : user.role, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"V38RlWBQIiv7FH9o2HjQQWYQmKI=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","getAuth","clearAuth","useNavigate","jsxDEV","_jsxDEV","Dashboard","_s","user","token","message","setMessage","navigate","fetchDashboard","res","fetch","headers","Authorization","data","json","ok","Error","yourRole","err","logout","children","fileName","_jsxFileName","lineNumber","columnNumber","name","role","style","marginTop","onClick","_c","$RefreshReg$"],"sources":["D:/dreamerz1/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getAuth, clearAuth } from '../utils/auth';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Dashboard() {\r\n  const { user, token } = getAuth();\r\n  const [message, setMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    async function fetchDashboard() {\r\n      try {\r\n        const res = await fetch('http://localhost:4000/api/dashboard', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        const data = await res.json();\r\n        if (!res.ok) throw new Error(data.message || 'Failed');\r\n        setMessage(data.message + ' (role: ' + data.yourRole + ')');\r\n      } catch (err) {\r\n        setMessage(err.message);\r\n      }\r\n    }\r\n\r\n    fetchDashboard();\r\n  }, [token]);\r\n\r\n  function logout() {\r\n    clearAuth();\r\n    navigate('/');\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Dashboard</h2>\r\n      <p>Welcome, {user?.name} (role: {user?.role})</p>\r\n      <p>{message}</p>\r\n\r\n      <div style={{ marginTop: 20 }}>\r\n        <button onClick={logout}>Logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,SAAS,QAAQ,eAAe;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM;IAAEC,IAAI;IAAEC;EAAM,CAAC,GAAGR,OAAO,CAAC,CAAC;EACjC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMY,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9BJ,SAAS,CAAC,MAAM;IACd,eAAec,cAAcA,CAAA,EAAG;MAC9B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;UAC7DC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUR,KAAK;UAAG;QAC9C,CAAC,CAAC;QACF,MAAMS,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;QAC7B,IAAI,CAACL,GAAG,CAACM,EAAE,EAAE,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACR,OAAO,IAAI,QAAQ,CAAC;QACtDC,UAAU,CAACO,IAAI,CAACR,OAAO,GAAG,UAAU,GAAGQ,IAAI,CAACI,QAAQ,GAAG,GAAG,CAAC;MAC7D,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZZ,UAAU,CAACY,GAAG,CAACb,OAAO,CAAC;MACzB;IACF;IAEAG,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EAEX,SAASe,MAAMA,CAAA,EAAG;IAChBtB,SAAS,CAAC,CAAC;IACXU,QAAQ,CAAC,GAAG,CAAC;EACf;EAEA,oBACEP,OAAA;IAAAoB,QAAA,gBACEpB,OAAA;MAAAoB,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBxB,OAAA;MAAAoB,QAAA,GAAG,WAAS,EAACjB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEsB,IAAI,EAAC,UAAQ,EAACtB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEuB,IAAI,EAAC,GAAC;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACjDxB,OAAA;MAAAoB,QAAA,EAAIf;IAAO;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEhBxB,OAAA;MAAK2B,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAE;MAAAR,QAAA,eAC5BpB,OAAA;QAAQ6B,OAAO,EAAEV,MAAO;QAAAC,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtB,EAAA,CAtCuBD,SAAS;EAAA,QAGdH,WAAW;AAAA;AAAAgC,EAAA,GAHN7B,SAAS;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}